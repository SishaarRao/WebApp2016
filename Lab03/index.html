<!DOCTYPE HTML>
<html>
    <head>
        <title>ZipSearch</title>
        <link rel="stylesheet" href="style.css">
        <script>
            var timer;
            function onload(){
                timer = window.setInterval(check, 500);
            }
            function check(){
                var str = document.getElementById("inputbox").value;
                if (window.XMLHttpRequest) {
                    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp = new XMLHttpRequest();
                } else {
                    // code for IE6, IE5
                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        console.log("Text has been set");
                        var txtbox = document.getElementById("txt");
                        while(txtbox.hasChildNodes())
                            txtbox.removeChild(txtbox.childNodes[0]);
                        txtbox.appendChild(document.createTextNode(this.responseText));
                    }
                };
                xmlhttp.open("GET","https://tmrudwick-web.herokuapp.com/SearchQuery/search.php?query="+str,true);
                xmlhttp.send();
            }
        </script>
    </head>
    <body onload="onload()">
        <div style="text-align:center;">
            <div style="text-align:center;font-size:50px; font-style:italic;">
                ZipSearch
            </div>
            <div>
                Input : <input type="text" id="inputbox">
            </div>
            <div id="txt">

            </div>
        </div>
        
    </body>
</html>